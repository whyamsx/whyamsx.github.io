(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{160:function(e,t,n){"use strict";n.r(t);var s,a,c=n(0),i=n.n(c),r=n(20),o=n.n(r),u=n(44),j=n(45),l=n(75),b=n(25),d=n(66),h=n(67),O=n(22),p=new(function(){function e(){Object(d.a)(this,e),this.visible=!1,Object(O.d)(this)}return Object(h.a)(e,[{key:"setVisible",value:function(e){this.visible=e}}]),e}()),f=n(65),x=n(134),m="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",g=new(function(){function e(){Object(d.a)(this,e),this.users=[{_id:0,nickname:"jasonnn",photo:m,postsCount:4,description:""},{_id:1,nickname:"mary_23",photo:m,postsCount:9,description:"love babys \u2661"},{_id:2,nickname:"bob_ic",photo:m,postsCount:15,description:""}],Object(O.d)(this);var t=localStorage.getItem("users");t&&(this.users=JSON.parse(t))}return Object(h.a)(e,[{key:"getUsers",value:function(){return this.users}},{key:"addUser",value:function(e){return e.nickname.trim()?e.nickname.trim()&&e.nickname.length<3?x.b.error("Username must contain at least 3 characters"):(this.users.push(Object(f.a)(Object(f.a)({_id:this.users.length},e),{},{photo:m,postsCount:Math.round(.5+20*Math.random())})),x.b.success('User "'.concat(e.nickname,'" added successfully')),void this.updateStorage()):x.b.error("Blank username")}},{key:"editUser",value:function(e,t){if(t.nickname.trim()&&t.nickname.length<3)return x.b.error("Username must contain at least 3 characters");this.users=this.users.map((function(n){return n._id===e?(x.b.success('User data "'.concat(n.nickname,'" changed')),Object(f.a)({},t)):n})),this.updateStorage()}},{key:"updateStorage",value:function(){localStorage.getItem("users")!==JSON.stringify(this.users)&&localStorage.setItem("users",JSON.stringify(this.users))}}]),e}()),v=n(40),k=n(53),y=n(165),C=n(6),S=Object(k.a)((function(e){var t=e.title,n=e.subtitle,s=e.hasBack,a=Object(b.f)();return Object(C.jsx)(U,{onBack:s?function(){return a.goBack()}:void 0,title:t,subTitle:n||""})})),U=Object(j.a)(y.a)(s||(s=Object(u.a)(["\n\twidth: 700px;\n"]))),D=S,w=new(function(){function e(){Object(d.a)(this,e),this.visible=!1,this.userData=void 0,Object(O.d)(this)}return Object(h.a)(e,[{key:"setVisible",value:function(e){this.visible=e}},{key:"setUserData",value:function(e){this.userData=e}}]),e}()),I=n(164),_=n(167),V=n(136),B=n(79),F=n(57),T=n(168),E=n(166),J=n(170),M=n(171),A=Object(k.a)((function(){var e,t=i.a.useState(""),n=Object(F.a)(t,2),s=n[0],a=n[1],c=i.a.useState(""),r=Object(F.a)(c,2),o=r[0],u=r[1];i.a.useEffect((function(){w.userData&&(a(w.userData.nickname),u(w.userData.description))}),[w.userData]);return Object(C.jsxs)(T.a,{title:"Edit ".concat(null===(e=w.userData)||void 0===e?void 0:e.nickname,"'s data"),visible:w.visible,onOk:function(){g.editUser(w.userData._id,Object(f.a)(Object(f.a)({},w.userData),{},{nickname:s,description:o})),w.setVisible(!1)},onCancel:function(){w.setVisible(!1)},okText:"Save",children:[Object(C.jsx)(E.a,{placeholder:"username",prefix:Object(C.jsx)(J.a,{}),onChange:function(e){a(e.target.value)},value:s}),Object(C.jsx)(E.a,{placeholder:"title",prefix:Object(C.jsx)(M.a,{}),onChange:function(e){u(e.target.value)},value:o,style:{marginTop:8}})]})})),N=Object(k.a)((function(){document.title="Users";var e=g.getUsers();return Object(C.jsxs)(C.Fragment,{children:[e.length?Object(C.jsx)(I.b,{dataSource:e,renderItem:function(e){return Object(C.jsx)(I.b.Item,{actions:[Object(C.jsx)(v.a,{type:"ghost",onClick:function(){return function(e){w.setUserData(e),w.setVisible(!0)}(e)},children:"Edit"},"edit"),Object(C.jsxs)(l.b,{component:v.a,to:"/u".concat(e._id),type:"ghost",children:["More ",">>"]},"more")],children:Object(C.jsxs)(_.a,{avatar:!0,title:!1,loading:!1,active:!0,children:[Object(C.jsx)(I.b.Item.Meta,{avatar:Object(C.jsx)(V.a,{src:e.photo}),title:Object(C.jsxs)(l.b,{to:"/u".concat(e._id),children:["@",e.nickname]}),description:e.description}),Object(C.jsxs)("div",{children:["Posts: ",e.postsCount]})]})})}}):Object(C.jsx)(B.a,{}),Object(C.jsx)(A,{})]})})),L=Object(k.a)((function(){var e=i.a.useState(""),t=Object(F.a)(e,2),n=t[0],s=t[1],a=i.a.useState(""),c=Object(F.a)(a,2),r=c[0],o=c[1];i.a.useEffect((function(){s(""),o("")}),[p.visible]);return Object(C.jsxs)(T.a,{title:"Add new user",visible:p.visible,onOk:function(){g.addUser({nickname:n,description:r}),p.setVisible(!1)},onCancel:function(){p.setVisible(!1)},okText:"Add",children:[Object(C.jsx)(E.a,{placeholder:"username",prefix:Object(C.jsx)(J.a,{}),onChange:function(e){s(e.target.value)},value:n}),Object(C.jsx)(E.a,{placeholder:"title",prefix:Object(C.jsx)(M.a,{}),onChange:function(e){o(e.target.value)},value:r,style:{marginTop:8}})]})})),P=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(D,{title:"Users",subtitle:"(".concat(g.getUsers().length,")")}),Object(C.jsx)(N,{}),Object(C.jsx)(z,{type:"primary",onClick:function(){p.setVisible(!0)},children:"Add user"}),Object(C.jsx)(L,{})]})},z=Object(j.a)(v.a)(a||(a=Object(u.a)(["\n\tmargin-top: 8px;\n"])));var X,q,H,R=n(129),Y=n(163),G=function(e){return e?e[0].toUpperCase()+e.slice(1):e},K=function(e){var t=e.title,n=e.content;return Object(C.jsx)(Y.a,{title:G(t),bordered:!1,style:{width:"100%",border:"1px solid #eeeeee",marginBottom:8,borderRadius:12},children:Object(C.jsxs)("p",{children:[G(n),"."]})})},Q=function(e){var t=+e.match.params.userId,n=g.getUsers()[t],s=i.a.useState(),a=Object(F.a)(s,2),c=a[0],r=a[1];return i.a.useEffect((function(){var e;(e="https://jsonplaceholder.typicode.com/posts?userId=".concat(t+1),fetch(e).then((function(e){return e.json()}))).then((function(e){r(e)}))}),[]),c?c.length&&n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(D,{title:"@".concat(n.nickname,"'s posts"),hasBack:!0,subtitle:"(".concat(c.length,")")}),c.map((function(e,t){return Object(C.jsx)(K,{title:e.title,content:e.body},e.id)}))]}):Object(C.jsx)(B.a,{}):Object(C.jsx)(W,{size:"large"})},W=Object(j.a)(R.a)(X||(X=Object(u.a)(["\n\tpadding: 80px 0;\n\twidth: 100%;\n"])));function Z(){return Object(C.jsx)($,{children:Object(C.jsx)(ee,{children:Object(C.jsx)(l.a,{children:Object(C.jsxs)(b.c,{children:[Object(C.jsx)(b.a,{path:"/",exact:!0,component:P}),Object(C.jsx)(b.a,{path:"/u:userId",component:Q}),Object(C.jsx)(b.a,{render:function(){return Object(C.jsx)(C.Fragment,{children:"Not found"})}})]})})})})}var $=j.a.div(q||(q=Object(u.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\theight: 100vh;\n"]))),ee=j.a.div(H||(H=Object(u.a)(["\n\twidth: 700px;\n\tflex-grow: 1;\n\tpadding: 20px;\n"]))),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};n(159);o.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(Z,{})}),document.getElementById("root")),te()}},[[160,1,2]]]);
//# sourceMappingURL=main.7aae3d20.chunk.js.map